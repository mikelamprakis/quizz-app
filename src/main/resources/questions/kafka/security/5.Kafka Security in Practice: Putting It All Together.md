Here are 15 challenging questions based on the "Kafka Security in Practice: Putting It All Together" document, designed to simulate the real Kafka certification exam:

---

## Question 1

```markdown
What is the recommended first step when rolling out Kafka security in a production environment?
```

**Options**
```markdown
- A. Enable SASL authentication
- B. Enforce ACLs
- C. Enable SSL encryption
- D. Disable PLAINTEXT listeners
```

<details><summary>Response:</summary>

**Answer:** C

**Explanation:**

```markdown
The recommended first step is enabling SSL encryption for inter-broker and client-broker communication, as it's backward-compatible and establishes a secure foundation.

- A. Incorrect: Authentication should come after encryption.
- B. Incorrect: Authorization (ACLs) should be the final step.
- C. Correct: SSL encryption is the foundational first step.
- D. Incorrect: Disabling PLAINTEXT should happen after security is fully configured.
```

</details>

---

## Question 2

```markdown
Which security protocol should be used in production environments?
```

**Options**
```markdown
- A. PLAINTEXT
- B. SASL_PLAINTEXT
- C. SASL_SSL
- D. SSL (without SASL)
```

<details><summary>Response:</summary>

**Answer:** C

**Explanation:**

```markdown
SASL_SSL provides both authentication (SASL) and encryption (SSL), making it the most secure option for production.

- A. Incorrect: PLAINTEXT is insecure and should never be used in production.
- B. Incorrect: SASL_PLAINTEXT lacks encryption.
- C. Correct: SASL_SSL provides both authentication and encryption.
- D. Incorrect: SSL alone lacks authentication.
```

</details>

---

## Question 3

```markdown
What happens when a client with valid SASL credentials but no ACLs tries to produce to a topic?
```

**Options**
```markdown
- A. Connection is rejected during authentication
- B. Message is produced successfully
- C. Authorization error occurs
- D. SSL handshake fails
```

<details><summary>Response:</summary>

**Answer:** C

**Explanation:**

```markdown
Authentication succeeds with valid SASL credentials, but authorization fails without proper ACLs, resulting in an authorization error.

- A. Incorrect: Authentication succeeds with valid credentials.
- B. Incorrect: Production fails without WRITE ACL.
- C. Correct: Authorization error occurs due to missing ACLs.
- D. Incorrect: SSL handshake is unrelated to ACLs.
```

</details>

---

## Question 4

```markdown
Which tool can help simulate ACL changes before applying them?
```

**Options**
```markdown
- A. kafka-topics.sh
- B. kafka-acls.sh --dry-run
- C. kafka-configs.sh
- D. openssl s_client
```

<details><summary>Response:</summary>

**Answer:** B

**Explanation:**

```markdown
The `--dry-run` flag in kafka-acls.sh allows simulating ACL changes without applying them, helping prevent misconfigurations.

- A. Incorrect: Used for topic operations.
- B. Correct: --dry-run simulates ACL changes.
- C. Incorrect: Used for configuration changes.
- D. Incorrect: Used for SSL testing.
```

</details>

---

## Question 5

```markdown
What is the most secure SASL mechanism for password-based authentication?
```

**Options**
```markdown
- A. PLAIN
- B. SCRAM-SHA-256
- C. GSSAPI
- D. OAUTHBEARER
```

<details><summary>Response:</summary>

**Answer:** B

**Explanation:**

```markdown
SCRAM-SHA-256 provides salted password hashing, making it more secure than PLAIN for password-based auth. GSSAPI and OAUTHBEARER serve different use cases.

- A. Incorrect: PLAIN uses plaintext passwords.
- B. Correct: SCRAM provides secure password hashing.
- C. Incorrect: GSSAPI is for Kerberos, not passwords.
- D. Incorrect: OAUTHBEARER is token-based.
```

</details>

---

## Question 6

```markdown
Which two permissions are required for a consumer to work properly?
```

**Options**
```markdown
- A. READ on topic and WRITE on group
- B. READ on topic and READ on group
- C. DESCRIBE on topic and READ on group
- D. WRITE on topic and READ on group
```

<details><summary>Response:</summary>

**Answer:** B

**Explanation:**

```markdown
Consumers need READ permission on both the topic (to consume messages) and the consumer group (to join the group).

- A. Incorrect: WRITE on group is unnecessary.
- B. Correct: READ on both topic and group is required.
- C. Incorrect: DESCRIBE alone is insufficient.
- D. Incorrect: WRITE is for producers.
```

</details>

---

## Question 7

```markdown
What is the primary risk of using global wildcards (User:*) in ACLs?
```

**Options**
```markdown
- A. Increased CPU usage
- B. Overexposure of resources
- C. SSL handshake failures
- D. SASL authentication errors
```

<details><summary>Response:</summary>

**Answer:** B

**Explanation:**

```markdown
Global wildcards grant access to all users, violating the principle of least privilege and potentially exposing sensitive resources.

- A. Incorrect: CPU usage is unaffected by ACLs.
- B. Correct: Wildcards can overexpose resources.
- C. Incorrect: SSL is unrelated to ACL wildcards.
- D. Incorrect: SASL is unrelated to ACL wildcards.
```

</details>

---

## Question 8

```markdown
Which command would you use to test SSL connectivity to a Kafka broker?
```

**Options**
```markdown
- A. kafka-acls.sh --test
- B. openssl s_client
- C. kafka-configs.sh --validate
- D. sasl-test --ssl
```

<details><summary>Response:</summary>

**Answer:** B

**Explanation:**

```markdown
openssl s_client is used to test SSL/TLS connectivity and validate certificates. The other options are invalid or unrelated.

- A. Incorrect: No --test flag exists in kafka-acls.sh.
- B. Correct: s_client tests SSL connections.
- C. Incorrect: Used for configuration validation.
- D. Incorrect: Not a valid command.
```

</details>

---

## Question 9

```markdown
What is the recommended way to grant permissions for all topics with a "prod-" prefix?
```

**Options**
```markdown
- A. --topic prod- --resource-pattern-type literal
- B. --topic prod- --resource-pattern-type prefixed
- C. --topic '*' --operation ALL
- D. --cluster --operation ALL
```

<details><summary>Response:</summary>

**Answer:** B

**Explanation:**

```markdown
The prefixed resource pattern type matches all topics beginning with "prod-". Literal would only match exact name "prod-".

- A. Incorrect: Literal matches only exact name.
- B. Correct: Prefixed matches all "prod-" topics.
- C. Incorrect: Wildcard matches all topics.
- D. Incorrect: Cluster is a different resource type.
```

</details>

---

## Question 10

```markdown
Which security layer is responsible for verifying client identity?
```

**Options**
```markdown
- A. SSL
- B. SASL
- C. ACLs
- D. ZooKeeper
```

<details><summary>Response:</summary>

**Answer:** B

**Explanation:**

```markdown
SASL handles authentication (verifying client identity). SSL encrypts, ACLs authorize, and ZooKeeper is unrelated to authentication.

- A. Incorrect: SSL encrypts data.
- B. Correct: SASL authenticates clients.
- C. Incorrect: ACLs authorize actions.
- D. Incorrect: ZooKeeper is for coordination.
```

</details>

---

## Question 11

```markdown
What happens when a producer using PLAINTEXT tries to connect to a broker configured with SASL_SSL?
```

**Options**
```markdown
- A. Connection succeeds with warnings
- B. Connection fails due to protocol mismatch
- C. Messages are automatically encrypted
- D. Broker downgrades to PLAINTEXT
```

<details><summary>Response:</summary>

**Answer:** B

**Explanation:**

```markdown
The connection fails because PLAINTEXT doesn't match the broker's required SASL_SSL protocol. Brokers don't automatically downgrade security.

- A. Incorrect: Connection fails, no warnings.
- B. Correct: Protocol mismatch causes failure.
- C. Incorrect: No automatic encryption occurs.
- D. Incorrect: Brokers don't downgrade security.
```

</details>

---

## Question 12

```markdown
Which component is NOT part of Kafka's security layers?
```

**Options**
```markdown
- A. SSL
- B. SASL
- C. ACLs
- D. ZooKeeper
```

<details><summary>Response:</summary>

**Answer:** D

**Explanation:**

```markdown
ZooKeeper is for coordination, not security. The three security layers are SSL, SASL, and ACLs.

- A. Incorrect: SSL is a security layer.
- B. Incorrect: SASL is a security layer.
- C. Incorrect: ACLs are a security layer.
- D. Correct: ZooKeeper is unrelated to security layers.
```

</details>

---

## Question 13

```markdown
What is the purpose of the JAAS configuration file in Kafka security?
```

**Options**
```markdown
- A. To define ACL rules
- B. To configure SSL certificates
- C. To specify SASL authentication modules
- D. To encrypt message payloads
```

<details><summary>Response:</summary>

**Answer:** C

**Explanation:**

```markdown
The JAAS file configures SASL authentication modules (e.g., for PLAIN or SCRAM). ACLs and SSL are configured separately.

- A. Incorrect: ACLs use kafka-acls.sh.
- B. Incorrect: SSL uses keystore/truststore.
- C. Correct: JAAS configures SASL auth.
- D. Incorrect: Encryption is handled by SSL.
```

</details>

---

## Question 14

```markdown
Which permission is required to create new topics?
```

**Options**
```markdown
- A. READ
- B. WRITE
- C. CREATE
- D. ALTER
```

<details><summary>Response:</summary>

**Answer:** C

**Explanation:**

```markdown
The CREATE permission allows topic creation. WRITE is for producing messages, and ALTER is for configuration changes.

- A. Incorrect: READ is for consuming.
- B. Incorrect: WRITE is for producing.
- C. Correct: CREATE allows topic creation.
- D. Incorrect: ALTER is for configurations.
```

</details>

---

## Question 15

```markdown
What should you monitor to identify security-related issues in Kafka?
```

**Options**
```markdown
- A. SSL handshake errors
- B. SASL authentication failures
- C. ACL authorization errors
- D. All of the above
```

<details><summary>Response:</summary>

**Answer:** D

**Explanation:**

```markdown
All three types of errors (SSL, SASL, and ACL) indicate security issues and should be monitored in a production environment.

- A. Incorrect: Only covers encryption issues.
- B. Incorrect: Only covers authentication issues.
- C. Incorrect: Only covers authorization issues.
- D. Correct: All security layers should be monitored.
```

</details>

---
