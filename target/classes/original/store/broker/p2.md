## Question 6

A Kafka consumer is consuming from a topic partition. It sends a fetch request to the broker and receives a 'Replica Not Available' error. What is the consumer's next action?

* A. Backs off and retries the fetch request after a short delay
* B. Sends an offset commit request to trigger partition rebalancing
* C. Sends a metadata request to refresh its view of the cluster
* D. Closes the connection and tries connecting to a different broker

<details><summary>Response:</summary>

**Answer:** C

**Explanation:**
The consumer should refresh metadata to identify a healthy broker that can serve the partition. Rebalancing, retries, or switching brokers won't help without fresh metadata.

</details>

---

## Question 7

What happens if you produce to a topic that does not exist, and the broker setting `auto.create.topics.enable` is set to `false`?

* A. The broker will create the topic with default configurations
* B. The broker will reject the produce request and the producer will throw an exception
* C. The producer will automatically create the topic
* D. The producer will wait until the topic is created

<details><summary>Response:</summary>

**Answer:** B

**Explanation:**
When `auto.create.topics.enable=false`, Kafka will not allow topic creation by client request. The broker rejects the request, and the client receives an error.

</details>

---

## Question 8

What is the default value of `auto.create.topics.enable` in Kafka?

* A. `true`
* B. `false`
* C. It is not set by default
* D. It depends on the Kafka version

<details><summary>Response:</summary>

**Answer:** A

**Explanation:**
By default, Kafka enables auto topic creation (`auto.create.topics.enable=true`). Itâ€™s explicitly enabled unless overridden in the broker configuration.

</details>

---

## Question 9

When a topic is automatically created due to `auto.create.topics.enable` being `true`, what configurations are used for the new topic?

* A. The configurations specified by the producer or consumer
* B. The default configurations set on the broker
* C. A combination of producer/consumer configurations and broker defaults
* D. No configurations are set, the topic is created with empty configuration

<details><summary>Response:</summary>

**Answer:** B

**Explanation:**
When Kafka automatically creates a topic due to `auto.create.topics.enable` being `true`, it uses the default topic configurations set on the broker. These defaults are defined by settings such as:

* `num.partitions`
* `default.replication.factor`

Producer or consumer-level settings are **not** used in this automatic process.

* A and C are incorrect because Kafka ignores client configurations in this case.
* D is incorrect because Kafka does apply default broker settings, not an empty configuration.

</details>

---

## Question 10

Can Kafka's zero-copy optimization be used in combination with compression?

* A. Yes, zero-copy and compression can be used together seamlessly.
* B. No, zero-copy is incompatible with compression and cannot be used together.
* C. Zero-copy can be used with compression, but it requires additional configuration.
* D. Zero-copy is automatically disabled when compression is enabled.

<details><summary>Response:</summary>

**Answer:** A

**Explanation:**
Kafka's zero-copy optimization and compression **can be used together seamlessly**. Compression is handled before data hits the disk, and zero-copy operates at the level of transferring the data from disk to the network socket, regardless of whether it's compressed.

* Zero-copy works with compressed data without modification.
* No extra configuration is needed.
* Compression happens at the producer, and decompression at the consumer.

</details>

---

## Question 14

A Kafka producer is configured to use the `acks=all` setting while publishing messages to a topic partition that has a replication factor of 3. The topic is also configured with `min.insync.replicas=2`. Broker A hosts the current leader for this partition, while Brokers B and C host the replicas. Due to unforeseen circumstances, both Broker B and Broker C go offline simultaneously. What is the impact on the producer's ability to successfully publish messages to this partition?

* A. The producer will be able to publish messages, but with potential data loss.
* B. The producer will temporarily be unable to publish messages until at least one replica broker comes back online.
* C. The producer will continue to publish messages successfully without any impact.
* D. The producer will immediately switch to another topic's partition that has all replicas available.

<details><summary>Response:</summary>

**Answer:** B

**Explanation:**
With `acks=all`, the producer requires acknowledgments from the leader and all in-sync replicas (ISRs). If Brokers B and C are offline, the ISR drops below the `min.insync.replicas=2` requirement, and the producer won't be able to publish messages. Publishing resumes once at least one replica rejoins the ISR, allowing the `acks=all` requirement to be satisfied.

</details>

---

## Question 15

When a Kafka broker starts up, it performs various initialization tasks. Which of the following is NOT one of these tasks?

* A. Registering itself with Zookeeper
* B. Loading the replica assignment for each partition it hosts
* C. Creating a new Zookeeper znode for each topic it has partitions for
* D. Initializing the log directories for each partition it hosts

<details><summary>Response:</summary>

**Answer:** C

**Explanation:**
Topic znodes in Zookeeper are created during topic creation, not during broker startup. A broker on startup registers itself with Zookeeper, loads its partition assignments, and initializes log directories for the partitions it hosts, but it does not create new znodes for topics unless a topic is being created.

</details>

---

