## Question 1

A Kafka cluster has the following configuration:

* `unclean.leader.election.enable=false`

What is the implication of this setting when a partition leader fails and there are no in-sync replicas (ISRs) available?

* A. The partition will remain unavailable until the failed leader recovers.
* B. The partition will elect a new leader from the out-of-sync replicas to maintain availability.
* C. The partition will automatically create a new replica to replace the failed leader.
* D. The partition will be reassigned to another broker in the cluster.

<details><summary>Response:</summary>

**Answer:** A

**Explanation:**
When `unclean.leader.election.enable` is set to `false`, Kafka will not allow election of a leader from out-of-sync replicas. So, if no ISR is available during leader failure, the partition remains unavailable until the original leader recovers. This preserves data consistency.

</details>

-

## Question 2

A Kafka broker is configured with the following settings:

* `num.replication.fetchers=4`
* `replica.fetch.max.bytes=1048576`

What is the maximum amount of data that can be fetched by the broker for replication purposes in a single request?

* A. 1 MB
* B. 4 MB
* C. 1048576 bytes
* D. 4194304 bytes

<details><summary>Response:</summary>

**Answer:** A

**Explanation:**
The `replica.fetch.max.bytes` determines the per-fetch limit per fetcher. Itâ€™s 1 MB in this case. While there are 4 fetchers, each operates independently. The question asks *per request*, so the answer is 1 MB.

</details>

---

## Question 3

A Kafka cluster is configured with the following:

* `log.retention.hours=48`
* `log.retention.bytes=1073741824`
* `log.segment.bytes=536870912`

Assuming a topic has a constant message production rate, which of the following factors will trigger a log segment to be eligible for deletion?

* A. The log segment is older than 48 hours.
* B. The log segment size exceeds 536870912 bytes (512 MB).
* C. The total size of all log segments for the topic exceeds 1073741824 bytes (1 GB).
* D. All of the above.

<details><summary>Response:</summary>

**Answer:** D

**Explanation:**
Kafka applies both time and size-based log retention policies. A segment may be deleted if it exceeds the time limit, the total log size exceeds the quota, or older segments are pruned to respect retention policies.

</details>

---

## Question 4

A client connects to a broker in a Kafka cluster and sends a produce request for a topic partition. The broker responds with a 'Not Enough Replicas' error. What does the client do next?

* A. Retries sending the produce request to the same broker
* B. Sends metadata request to the same broker to refresh its metadata
* C. Sends produce request to the controller broker
* D. Sends metadata request to the Zookeeper to find the controller broker

<details><summary>Response:</summary>

**Answer:** B

**Explanation:**
The client refreshes its metadata to get updated ISR information and broker status. It doesn't contact the controller or Zookeeper directly in normal operation.

</details>

---

## Question 5

Assuming a Kafka topic is configured with the following settings:

* `log.segment.bytes` = 1073741824 (1GB)
* `log.retention.ms` = 86400000 (1 day)
* `log.retention.bytes` = -1

Which of the following statements accurately describes the log retention policy for this Kafka topic?

* A. Logs are retained based on size; once the log size exceeds 1GB, older segments are deleted.
* B. Logs are retained for exactly one day, regardless of the size of the log.
* C. Logs are retained until the size of the log exceeds 1GB or for one day, whichever comes first.
* D. Logs are retained indefinitely, as `log.retention.bytes` is set to -1, overriding other retention configurations.

<details><summary>Response:</summary> 

**Answer:** B

**Explanation:**
Kafka deletes segments based on time or size **only if** a limit is configured.

* `log.retention.ms = 86400000` (1 day) is active,
* `log.retention.bytes = -1` disables size-based deletion.
  So, **time-based deletion** is applied: logs older than 1 day are removed.
  `log.segment.bytes = 1GB` just defines the size of each segment file, not the retention policy.

</details>

---

## Question 16

A Kafka broker is configured as follows:

* `log.segment.bytes=1073741824`
* `log.segment.ms=86400000`
* `log.retention.bytes=-1`
* `log.retention.ms=604800000`

When will Kafka start a new log segment for a partition, and how long will the old segments be retained?

* A. New segment after 1 GB or 24 hrs; retain for 7 days
* B. New segment after 1 GB or 24 hrs; retain indefinitely
* C. New segment after 1 GB; retain for 7 days or if total exceeds 1 GB
* D. New segment after 24 hrs; retain for 7 days or if total exceeds 1 GB

<details><summary>Response:</summary>

**Answer:** A

**Explanation:**
Kafka rolls a segment when it hits either the size limit (`log.segment.bytes=1GB`) or time limit (`log.segment.ms=24h`). Segments are retained based only on time (`log.retention.ms=7d`) since `log.retention.bytes=-1` disables size-based retention.

</details>

---

## Question 17

A Kafka cluster is configured with:

* `default.replication.factor=2`
* `min.insync.replicas=2`

What is the minimum number of brokers required to tolerate one failure and still serve write requests?

* A. 1
* B. 2
* C. 3
* D. 4

<details><summary>Response:</summary>

**Answer:** C

**Explanation:**
To satisfy `min.insync.replicas=2`, two brokers must be online and in-sync. If you want to tolerate one broker failure and still maintain two in-sync replicas, you need **at least 3 brokers** (to allow for one to fail and two to remain available for in-sync acknowledgment).

</details>

---


